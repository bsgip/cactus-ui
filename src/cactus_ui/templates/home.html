{% extends "base.html" %}

{% block title %}Welcome ‚Äì CACTUS{% endblock %}

{% block content %}
{% include 'banner.html' %}
<div class="container mt-4">
  <div class="text-center mb-4">
    <h1 class="display-4">Welcome to CACTUS</h1>
    <p class="lead text-muted">CSIP-Australia client testing for utility services</p>
  </div>

  <hr class="my-4">

  <div class="row">
    <div class="col-lg-8 mx-auto">
      <h2 class="mb-3">Getting Started</h2>
      <ol class="list-group list-group-numbered mb-4">
        <li class="list-group-item d-flex">
          <div class="ms-2">
            <strong>Configure:</strong> Create run groups to manage the various devices you wish to certify and download
            their certificates from the <a href="/config">Config page</a> for use in your client. Optionally enable your
            domain for notifications here too.
          </div>
        </li>
        <li class="list-group-item d-flex">
          <div class="ms-2">
            <strong>Test:</strong> Go to the <a href="/runs">Runs page</a>, select a test procedure, and click 'Start
            Run'. Point your client at the provided test URL.
          </div>
        </li>
        <li class="list-group-item d-flex">
          <div class="ms-2">
            <strong>Results:</strong> Once your test is complete, click 'Finalize' to download your test results
            package.
          </div>
        </li>
      </ol>
    </div>
  </div>

  <hr class="my-4">

  <h2 class="mb-3">Essential Resources</h2>

  <div class="row mb-4">
    <div class="col-md-6 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="card-title h5">üìö Documentation</h3>
          <p class="card-text">
            <a href="https://www.csipaus.org/documents" target="_blank">csipaus.org/documents</a> contains:
          </p>
          <ul class="card-text mb-0">
            <li class="mb-2"><strong>CSIP-AUS v1.2 Explainer Document</strong><br>
              <small class="text-muted">Certificate/LFDI/SFDI/PEN matching and ramp rate explanations</small>
            </li>
            <li class="mb-2"><strong>SA TS 5573:2025 Standard</strong><br>
              <small class="text-muted">Official specification</small>
            </li>
            <li class="mb-0"><strong>Open source GitHub repositories</strong><br>
              <small class="text-muted">All test tools and utility server code</small>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="card h-100">
        <div class="card-body">
          <h3 class="card-title h5">üì¶ Your Test Results</h3>
          <p class="card-text">
            When you finalize a test run, you'll receive:
          </p>
          <ul class="card-text mb-2">
            <li>PDF test summary with pass/fail results</li>
            <li>Complete server logs</li>
            <li>Request/response logs for debugging</li>
          </ul>
          <p class="card-text mb-0">
            <small class="text-muted">Use these artifacts to troubleshoot any test failures.</small>
          </p>
        </div>
      </div>
    </div>
  </div>

  <hr class="my-4">

  <div class="row">
    <div class="col-lg-10 mx-auto">
      <h2 class="mb-3">Common Issues</h2>
      <div class="alert alert-warning" role="alert">
        <ul class="mb-0">
          <li class="mb-2"><strong>XSD validation is strict</strong> ‚Äì Element ordering must be correct</li>
          <li class="mb-2"><strong>Certificate matching</strong> ‚Äì Your certificate, LFDI, SFDI, and PEN must align
            correctly (see CSIP-AUS explainer document)</li>
          <li class="mb-0"><strong>MirrorMeterReading requirements</strong> ‚Äì CSIP-AUS enforces only a subset; refer to
            SA TS 5573:2025, Table 8.1</li>
        </ul>
      </div>
    </div>
  </div>

  <hr class="my-4">

  {% if support_email %}
  <div class="mb-4">
    <h2 class="mb-3">Need Help?</h2>
    <div class="row">
      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">üêõ Report a Bug</h5>
            <p class="card-text mb-0">
              <a href="https://tinyurl.com/mrbu8cwt" target="_blank">tinyurl.com/mrbu8cwt</a>
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">üìã Standards Help</h5>
            <p class="card-text mb-0">
              <a href="mailto:csipaus-cert@anu.edu.au">csipaus-cert@anu.edu.au</a>
            </p>
          </div>
        </div>
      </div>
      <div class="col-md-4 mb-3">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">üí¨ Software Questions</h5>
            <p class="card-text mb-0">
              <a href="mailto:support@bsgip.com">support@bsgip.com</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  {% endblock %}